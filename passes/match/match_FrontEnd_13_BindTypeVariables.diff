--- before_pass
+++ after_pass
@@ -32,12 +32,12 @@ parser Top(packet_in b, out Parsed_heade
         transition parse_ipv4;
     }
     state parse_ipv4 {
-        b.extract(headers.ipv4);
+        b.extract<Ipv4_no_options_h>(headers.ipv4);
         verify(headers.ipv4.ihl >= 4w5, error.InvalidOptions);
         transition parse_ipv4_options;
     }
     state parse_ipv4_options {
-        b.extract(headers.ipv4options, (bit<32>)(8w8 * ((bit<8>)headers.ipv4.ihl * 8w4 - 8w20)));
+        b.extract<Ipv4_options_h>(headers.ipv4options, (bit<32>)(8w8 * ((bit<8>)headers.ipv4.ihl * 8w4 - 8w20)));
         transition select(headers.ipv4.protocol) {
             8w6: parse_tcp;
             8w17: parse_udp;
@@ -45,7 +45,7 @@ parser Top(packet_in b, out Parsed_heade
         }
     }
     state parse_tcp {
-        b.extract(headers.tcp);
+        b.extract<Tcp>(headers.tcp);
         transition select(headers.tcp.port) {
             16w0 &&& 16w0xfc00: well_known_port;
             default: other_port;

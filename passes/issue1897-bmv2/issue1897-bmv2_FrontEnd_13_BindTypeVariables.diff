--- before_pass
+++ after_pass
@@ -29,18 +29,18 @@ parser ProtAddrParser(packet_in packet,
         }
     }
     state ipv4 {
-        packet.extract(addr.ipv4);
+        packet.extract<addr_ipv4_t>(addr.ipv4);
         transition accept;
     }
     state ipv6 {
-        packet.extract(addr.ipv6);
+        packet.extract<addr_ipv6_t>(addr.ipv6);
         transition accept;
     }
 }
 parser ProtParser(packet_in packet, out headers hdr, inout metadata meta, inout standard_metadata_t standard_metadata) {
     ProtAddrParser() addrParser;
     state start {
-        packet.extract(hdr.addr_type);
+        packet.extract<addr_type_t>(hdr.addr_type);
         addrParser.apply(packet, hdr.addr_type.dstType, hdr.addr_dst);
         addrParser.apply(packet, hdr.addr_type.srcType, hdr.addr_src);
         transition accept;
@@ -67,4 +67,4 @@ control ProtDeparser(packet_out packet,
         packet.emit<headers>(hdr);
     }
 }
-V1Switch(ProtParser(), ProtVerifyChecksum(), ProtIngress(), ProtEgress(), ProtComputeChecksum(), ProtDeparser()) main;
+V1Switch<headers, metadata>(ProtParser(), ProtVerifyChecksum(), ProtIngress(), ProtEgress(), ProtComputeChecksum(), ProtDeparser()) main;

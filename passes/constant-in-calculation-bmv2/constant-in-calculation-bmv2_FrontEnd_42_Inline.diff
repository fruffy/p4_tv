--- before_pass
+++ after_pass
@@ -3,11 +3,6 @@
 header hdr {
     bit<16> a;
 }
-control compute(inout hdr h) {
-    apply {
-        hash<bit<16>, bit<10>, tuple<bit<16>>, bit<10>>(h.a, HashAlgorithm.crc16, 10w0, { 16w1 }, 10w4);
-    }
-}
 struct Headers {
     hdr h;
 }
@@ -37,9 +32,10 @@ control deparser(packet_out b, in Header
     }
 }
 control ingress(inout Headers h, inout Meta m, inout standard_metadata_t sm) {
-    @name("c") compute() c_0;
     apply {
-        c_0.apply(h.h);
+        {
+            hash<bit<16>, bit<10>, tuple<bit<16>>, bit<10>>(h.h.a, HashAlgorithm.crc16, 10w0, { 16w1 }, 10w4);
+        }
         sm.egress_spec = 9w0;
     }
 }

--- before_pass
+++ after_pass
@@ -4,8 +4,14 @@ header H {
 }
 control c(inout bit<32> r) {
     H[2] h_0;
+    bit<32> tmp;
+    bit<32> tmp_0;
     apply {
-        h_0[f(32w2)].setValid();
+        {
+            tmp = f(32w2);
+            tmp_0 = tmp;
+            h_0[tmp_0].setValid();
+        }
     }
 }
 control simple(inout bit<32> r);

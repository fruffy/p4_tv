--- before_pass
+++ after_pass
@@ -11,6 +11,7 @@ control I(inout metadata_t meta) {
     H h_0;
     apply {
         {
+            h_0.setValid();
             h_0 = H {b = 32w1};
         }
         if (meta.foo == PortId_t {_v = 9w192}) {
@@ -18,9 +19,11 @@ control I(inout metadata_t meta) {
                 meta.foo._v = meta.foo._v + 9w1;
             }
             {
+                h_0.setValid();
                 h_0 = H {b = 32w2};
             }
             if (h_0 == H {b = 32w1}) {
+                h_0.setValid();
                 h_0 = H {b = 32w2};
             }
         }

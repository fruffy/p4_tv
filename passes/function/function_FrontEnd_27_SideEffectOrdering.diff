--- before_pass
+++ after_pass
@@ -5,8 +5,12 @@ bit<16> max(in bit<16> left, in bit<16>
     return right;
 }
 control c(out bit<16> b) {
+    bit<16> tmp;
     apply {
-        b = max(16w10, 16w12);
+        {
+            tmp = max(16w10, 16w12);
+            b = tmp;
+        }
     }
 }
 control ctr(out bit<16> b);
